import pyautogui
import time
import os

# Disable PyAutoGUI failsafe for uninterrupted automation
pyautogui.FAILSAFE = False

# Function to perform the automation
def automate_clicks():
    # Switch to the desired application using AppleScript
    os.system("osascript -e 'tell application \"System Events\" to key code 48 using {command down}'")
    time.sleep(0.2)  # Reduced delay for faster execution

    # Press the escape key
    pyautogui.press('escape')

    # Coordinates to click
    positions = [
        (746, 340),  # If already on challenge screen
        (805, 202),
        (706, 415),
        (512, 585),
        (490, 540),
        (869, 635)
    ]

    # Loop through each position and click
    for position in positions:
        pyautogui.moveTo(*position, duration=0.1)  # Faster movement
        pyautogui.click()
        time.sleep(0.1)  # Minimal delay for stability

# Run the automation
automate_clicks()
